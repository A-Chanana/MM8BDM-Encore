
actor SmallNutPickup :	BaseMM8BDMUseItem
{
inventory.amount 1
inventory.maxamount 1
inventory.pickupmessage "$PU_SMALLNUT"
inventory.pickupsound "item/screwup"
+INVENTORY.AUTOACTIVATE
-INVBAR
+COUNTITEM
scale 2.25
ReactionTime 34
States
{
SpawnLoop:
NUTS A 0 ACS_NamedExecuteWithResult("Encore_NutPickupSpawn")
SpawnLoop2:
NUTS A 0 
NUTS A 0 A_JumpIf(tid!=0, 2)
NUTS A 0 Thing_ChangeTID(0,999)
NUTS ABCDAEFGABCDAEFGABCDAEFGABCDAEFGABCDAEFGABCDAEFG 6
TNT1 A 6
NUTS A 6 
TNT1 A 6
NUTS B 6 
TNT1 A 6
NUTS C 6 
TNT1 A 6
NUTS D 6 
TNT1 A 6
NUTS A 6 
TNT1 A 3
NUTS E 3 
TNT1 A 3
NUTS F 3 
TNT1 A 3
NUTS G 3 
goto Death
Pickup:
NUTS A 0 A_JumpIfInventory("NutStock",99,"PickupTooMuch")
NUTS A 0 A_PlaySound("item/screwup")
NUTS A 0 A_GiveInventory("NutStock",1)
NUTS A 0 A_TakeInventory("SmallNutPickup",1)
stop
PickupTooMuch:
NUTS A 0
fail
Death:
TNT1 A 0
stop
}
}

actor LargeNutPickup :	BaseMM8BDMUseItem
{
inventory.amount 1
inventory.maxamount 1
inventory.pickupmessage "$PU_LARGENUT"
inventory.pickupsound "item/screwup"
+INVENTORY.AUTOACTIVATE
-INVBAR
+COUNTITEM
scale 2.25
ReactionTime 34
States
{
SpawnLoop:
NUTS A 0 ACS_NamedExecuteWithResult("Encore_NutPickupSpawn")
SpawnLoop2:
NUTS J 0 
NUTS J 0 A_JumpIf(tid!=0, 2)
NUTS J 0 Thing_ChangeTID(0,999)
NUTS HIJKHLMNHIJKHLMNHIJKHLMNHIJKHLMNHIJKHLMNHIJKHLMN 6
TNT1 A 6
NUTS H 6 
TNT1 A 6
NUTS I 6 
TNT1 A 6
NUTS J 6 
TNT1 A 6
NUTS K 6 
TNT1 A 6
NUTS H 6 
TNT1 M 3
NUTS L 3 
TNT1 N 3
NUTS M 3 
TNT1 A 3
NUTS N 3 
Goto Death
Pickup:
NUTS H 0 A_JumpIfInventory("NutStock",99,"PickupTooMuch")
NUTS H 0 A_PlaySound("item/screwup")
NUTS H 0 A_GiveInventory("NutStock",7)
NUTS H 0 A_TakeInventory("LargeNutPickup",1)
stop
PickupTooMuch:
NUTS H 0
fail
Death:
TNT1 A 0
stop
}
}

actor NutStock : BaseMM8BDMUseItem
{
Inventory.amount 1
inventory.maxamount 99
Tag "$TAG_NUT"
inventory.icon "NUTSICN"
+INVBAR
+COUNTITEM
States
{
SpawnLoop:
NUTS A 0 
NUTS A 0 A_JumpIf(tid!=0, 2)
NUTS A 0 Thing_ChangeTID(0,999)
NUTS A 6
Goto SpawnLoop+3
Use:
NUTS A 0 //A_PlaySound("item/screwup")
fail
Death:
TNT1 A 0
stop
}
}

actor NutKill
{
+NOINTERACTION
-SOLID
height 1
radius 1
States
{
Spawn:
TNT1 A 0
TNT1 AAAAAAA 0 A_SpawnItemEx("SmallNutPickup",0,0,0,random(1,3),0,random(5,10),random(0,359),1)
stop
}
}
